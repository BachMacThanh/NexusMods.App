<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:panels="clr-namespace:Avalonia.Labs.Panels;assembly=Avalonia.Labs.Panels"
        xmlns:icons="clr-namespace:NexusMods.Icons;assembly=NexusMods.Icons">

    <Design.PreviewWith>
        <Border Padding="0">
            <StackPanel Spacing="8">
                <TextBlock Text="TabControl" />
                <TabControl>
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Classes="TabItemHeaderStack">
                                <TextBlock Text="Tab 2" />
                                <icons:UnifiedIcon Value="{x:Static icons:IconValues.Star}" />
                            </StackPanel>
                        </TabItem.Header>
                        <TextBlock Text="Content for Tab 1" />
                    </TabItem>
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Classes="TabItemHeaderStack">
                                <TextBlock Text="Tab 2" />
                            </StackPanel>
                        </TabItem.Header>
                        <TextBlock Text="Content for Tab 2" />
                    </TabItem>
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Classes="TabItemHeaderStack">
                                <TextBlock Text="Tab 3" />
                            </StackPanel>
                        </TabItem.Header>
                        <TextBlock Text="Content for Tab 3" />
                    </TabItem>
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Classes="TabItemHeaderStack">
                                <TextBlock Text="Optional" />
                                <Border>
                                    <TextBlock Text="123" />
                                </Border>
                            </StackPanel>
                        </TabItem.Header>
                        <TextBlock Text="Content for Tab 4" />
                    </TabItem>
                </TabControl>

                <TextBlock Text="TabControl (Subtabs)" />
                <TabControl Classes="Subtabs">
                    <TabItem Header="Tab 1">
                        <TextBlock Text="Content for Tab 1" />
                    </TabItem>
                    <TabItem Header="Tab 2">
                        <TextBlock Text="Content for Tab 2" />
                    </TabItem>
                    <TabItem Header="Tab 3">
                        <TextBlock Text="Content for Tab 3" />
                    </TabItem>
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Optional" />
                            </StackPanel>
                        </TabItem.Header>
                        <TextBlock Text="Content for Tab 4" />
                    </TabItem>
                </TabControl>

                <TextBlock Text="TabControl (Subtabs, Single item)" />
                <TabControl Classes="Subtabs">
                    <TabItem Header="Tab 1">
                        <TextBlock Text="Content for Tab 1" />
                    </TabItem>
                </TabControl>
            </StackPanel>
        </Border>
    </Design.PreviewWith>

    <Style Selector="TabControl">

        <Style Selector="^ TabItem">

            <Style Selector="^ StackPanel.TabItemHeaderStack">
                <Setter Property="Orientation" Value="Horizontal" />
                <Setter Property="Spacing" Value="4" />
                <Style Selector="^ > TextBlock">
                    <Setter Property="Theme" Value="{StaticResource BodyXLNormalTheme}" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                </Style>
                <Style Selector="^ > Border">
                    <Setter Property="Background" Value="{StaticResource SurfaceHighBrush}" />
                    <Setter Property="CornerRadius" Value="999" />
                    <Setter Property="Padding" Value="8,2" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Style Selector="^ > TextBlock">
                        <Setter Property="Foreground" Value="{StaticResource NeutralStrongBrush}" />
                    </Style>
                </Style>
                <Style Selector="^ icons|UnifiedIcon">
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="Size" Value="16" />
                </Style>
            </Style>
            
            <!-- selected state -->
            
            <Style Selector="^:selected">
                <Setter Property="Foreground" Value="{StaticResource NeutralStrongBrush}" />

                <Style Selector="^ > StackPanel.TabItemHeaderStack">
                    <Style Selector="^ > TextBlock">
                        <Setter Property="Foreground" Value="{StaticResource NeutralStrongBrush}" />
                    </Style>
                    <Style Selector="^ > Border">
                        <Setter Property="Background" Value="{StaticResource SurfaceHighBrush}" />
                        <Style Selector="^ > TextBlock">
                            <Setter Property="Foreground" Value="{StaticResource NeutralStrongBrush}" />
                        </Style>
                    </Style>
                    <Style Selector="^ > icons|UnifiedIcon">
                        <Setter Property="Foreground" Value="{StaticResource NeutralStrongBrush}" />
                    </Style>
                </Style>
            </Style>
            
            <!-- pointerover tabs -->

            <Style Selector="^:pointerover:not(:selected)">
                <Style Selector="^ > StackPanel.TabItemHeaderStack">
                    <Style Selector="^ > TextBlock">
                        <Setter Property="Foreground" Value="{StaticResource NeutralModerateBrush}" />
                    </Style>
                    <Style Selector="^ > Border">
                        <Setter Property="Background" Value="{StaticResource SurfaceHighBrush}" />
                        <Style Selector="^ > TextBlock">
                            <Setter Property="Foreground" Value="{StaticResource NeutralModerateBrush}" />
                        </Style>
                    </Style>
                    <Style Selector="^ > icons|UnifiedIcon">
                        <Setter Property="Foreground" Value="{StaticResource NeutralModerateBrush}" />
                    </Style>
                </Style>
            </Style>

        </Style>
    </Style>

</Styles>
